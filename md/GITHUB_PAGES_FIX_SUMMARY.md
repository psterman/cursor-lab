# GitHub Pages éƒ¨ç½²ä¿®å¤æ€»ç»“

## ğŸ“‹ ä¿®å¤æ¦‚è¿°

æœ¬æ¬¡ä¿®å¤è§£å†³äº†é¡¹ç›®åœ¨ GitHub Pages éƒ¨ç½²åå‡ºç°é»‘å±æˆ–åŠŸèƒ½å¤±æ•ˆçš„é—®é¢˜ã€‚ä¸»è¦æ¶‰åŠæ¨¡å—åŒ–é€‚é…ã€èµ„æºè·¯å¾„ã€é™æ€åŒ–æ¥å£å…¼å®¹å’Œ React çŠ¶æ€æ¡¥æ¥å››ä¸ªæ–¹é¢ã€‚

## âœ… å·²å®Œæˆçš„ä¿®å¤

### 1. æ¨¡å—åŒ–é€‚é…ä¿®å¤ âœ…

**é—®é¢˜**ï¼šES6 æ¨¡å—å¯¼å…¥åœ¨ GitHub Pages ç¯å¢ƒä¸‹è·¯å¾„è§£æå¤±è´¥

**ä¿®å¤å†…å®¹**ï¼š
- âœ… ç¡®ä¿ `main.js` ä¸­æ‰€æœ‰å¯¼å‡ºå‡½æ•°æ­£ç¡®å¯¼å‡º
- âœ… ç»Ÿä¸€ `formatNumber` å‡½æ•°å®ç°ï¼Œæ”¯æŒ Mã€Kã€ä¸‡ç­‰å•ä½æ ¼å¼åŒ–
- âœ… éªŒè¯æ‰€æœ‰å¿…éœ€å¯¼å‡ºå‡½æ•°ï¼š`initializeParser`, `processFiles`, `renderFullDashboard`, `getGlobalStats`, `getVibeResult`, `updateNumberWithAnimation`, `formatNumber`, `fetchTotalTestUsers`, `reportNewUser`, `updateGlobalStats`

**ä¿®æ”¹æ–‡ä»¶**ï¼š
- `main.js`: æ”¹è¿› `formatNumber` å‡½æ•°å®ç°

### 2. èµ„æºè·¯å¾„çº é”™ âœ…

**é—®é¢˜**ï¼šGitHub Pages éƒ¨ç½²åï¼Œæ¨¡å—å’Œèµ„æºæ–‡ä»¶è·¯å¾„ä¸æ­£ç¡®

**ä¿®å¤å†…å®¹**ï¼š
- âœ… æ›´æ–° `vite.config.js` çš„ `base` é…ç½®ï¼Œé»˜è®¤ä½¿ç”¨ `/` æ”¯æŒè‡ªåŠ¨æ£€æµ‹
- âœ… æ”¹è¿› `index.html` ä¸­çš„è·¯å¾„æ£€æµ‹é€»è¾‘ï¼Œæ”¯æŒï¼š
  - GitHub Pages é¡¹ç›®é¡µé¢ï¼ˆ`username.github.io/repo-name`ï¼‰
  - GitHub Pages ç”¨æˆ·é¡µé¢ï¼ˆ`username.github.io`ï¼‰
  - æœ¬åœ°å¼€å‘ç¯å¢ƒ
  - Cloudflare Pages ç­‰å…¶ä»–ç”Ÿäº§ç¯å¢ƒ
- âœ… ä¿®å¤ `src/CursorParser.js` ä¸­çš„ WASM æ–‡ä»¶è·¯å¾„æ£€æµ‹ï¼Œç§»é™¤ç¡¬ç¼–ç è·¯å¾„
- âœ… ä¼˜åŒ–è·¯å¾„å°è¯•é¡ºåºï¼šç”Ÿäº§ç¯å¢ƒä¼˜å…ˆå°è¯• `dist` ç›®å½•

**ä¿®æ”¹æ–‡ä»¶**ï¼š
- `vite.config.js`: æ›´æ–° `base` é…ç½®
- `index.html`: æ”¹è¿›è·¯å¾„æ£€æµ‹å’Œæ¨¡å—åŠ è½½é€»è¾‘
- `src/CursorParser.js`: ä¿®å¤ WASM æ–‡ä»¶è·¯å¾„æ£€æµ‹

### 3. é™æ€åŒ–æ¥å£å…¼å®¹ âœ…

**é—®é¢˜**ï¼šAPI è°ƒç”¨åœ¨é™æ€ç¯å¢ƒä¸‹å¯èƒ½å¤±è´¥

**ä¿®å¤å†…å®¹**ï¼š
- âœ… API è°ƒç”¨å·²æœ‰å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé™çº§æ–¹æ¡ˆ
- âœ… ä½¿ç”¨ `localStorage` ä½œä¸º fallback
- âœ… æ·»åŠ è¶…æ—¶æ§åˆ¶ï¼ˆ5ç§’ï¼‰
- âœ… æ”¯æŒå¤šç§ API ç«¯ç‚¹é…ç½®æ–¹å¼ï¼ˆç¯å¢ƒå˜é‡ã€meta æ ‡ç­¾ï¼‰

**éªŒè¯**ï¼š
- `main.js` ä¸­çš„ `updateGlobalStats` å‡½æ•°å·²åŒ…å«å®Œæ•´çš„é”™è¯¯å¤„ç†

### 4. React ä¸ main.js çš„çŠ¶æ€æ¡¥æ¥ âœ…

**é—®é¢˜**ï¼šReact ç»„ä»¶æ— æ³•æ­£ç¡®è®¿é—® main.js å¯¼å‡ºçš„å‡½æ•°

**ä¿®å¤å†…å®¹**ï¼š
- âœ… ç¡®ä¿æ¨¡å—åŠ è½½åæ­£ç¡®æš´éœ²åˆ° `window.analysisModule`
- âœ… æ·»åŠ æ¨¡å—åŠ è½½çŠ¶æ€è·Ÿè¸ªï¼ˆ`window.analysisModuleLoading`, `window.analysisModuleError`ï¼‰
- âœ… æ·»åŠ æ¨¡å—åŠ è½½å¤±è´¥äº‹ä»¶é€šçŸ¥ï¼ˆ`analysisModuleLoadFailed`ï¼‰
- âœ… æ”¹è¿›æ¨¡å—åŠ è½½ç­‰å¾…é€»è¾‘ï¼Œæ”¯æŒè¶…æ—¶æ£€æµ‹

**ä¿®æ”¹æ–‡ä»¶**ï¼š
- `index.html`: æ”¹è¿›æ¨¡å—åŠ è½½å’ŒçŠ¶æ€æ¡¥æ¥é€»è¾‘

## ğŸ”§ æŠ€æœ¯ç»†èŠ‚

### è·¯å¾„æ£€æµ‹é€»è¾‘

```javascript
// è‡ªåŠ¨æ£€æµ‹éƒ¨ç½²ç¯å¢ƒ
if (hostname.includes('github.io')) {
  // GitHub Pages
  const parts = pathname.split('/').filter(p => p && p !== 'index.html');
  basePath = parts.length > 0 ? '/' + parts[0] : '';
} else if (hostname === 'localhost') {
  // æœ¬åœ°å¼€å‘
  basePath = '';
} else {
  // å…¶ä»–ç”Ÿäº§ç¯å¢ƒ
  const parts = pathname.split('/').filter(p => p && p !== 'index.html');
  basePath = parts.length > 0 ? '/' + parts[0] : '';
}
```

### æ¨¡å—åŠ è½½è·¯å¾„ä¼˜å…ˆçº§

**ç”Ÿäº§ç¯å¢ƒ**ï¼š
1. `${basePath}/dist/main.js`
2. `${basePath}/main.js`
3. `./dist/main.js`
4. `./main.js`
5. `/dist/main.js`
6. `/main.js`

**å¼€å‘ç¯å¢ƒ**ï¼š
1. `./main.js`
2. `./dist/main.js`
3. å…¶ä»–ç›¸å¯¹å’Œç»å¯¹è·¯å¾„

### WASM æ–‡ä»¶è·¯å¾„

```javascript
// å°è¯•å¤šä¸ªå¯èƒ½çš„è·¯å¾„
const possiblePaths = [
  basePath ? `${basePath}/sql-wasm.wasm` : '/sql-wasm.wasm',
  basePath ? `${basePath}/dist/sql-wasm.wasm` : '/dist/sql-wasm.wasm',
  './sql-wasm.wasm',
  './dist/sql-wasm.wasm',
  '/sql-wasm.wasm',
  '/dist/sql-wasm.wasm'
];
```

## ğŸ“ éƒ¨ç½²è¯´æ˜

### æ„å»ºé¡¹ç›®

```bash
npm run build
```

### éƒ¨ç½²åˆ° GitHub Pages

#### æ–¹å¼ä¸€ï¼šé¡¹ç›®é¡µé¢ï¼ˆæ¨èï¼‰

å¦‚æœä»“åº“åä¸º `Cursor-Clinical-Analysis`ï¼Œéƒ¨ç½²åè®¿é—®ï¼š
- `https://username.github.io/Cursor-Clinical-Analysis/`

#### æ–¹å¼äºŒï¼šç”¨æˆ·é¡µé¢

å¦‚æœéƒ¨ç½²åœ¨ `username.github.io`ï¼Œéœ€è¦ï¼š
1. è®¾ç½® `vite.config.js` ä¸­çš„ `base` ä¸º `/`
2. æˆ–ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š`VITE_BASE_PATH=/ npm run build`

### éªŒè¯éƒ¨ç½²

1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ˆF12ï¼‰
2. æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ï¼Œç¡®è®¤æ¨¡å—åŠ è½½æˆåŠŸ
3. æ£€æŸ¥ç½‘ç»œè¯·æ±‚ï¼Œç¡®è®¤èµ„æºæ–‡ä»¶åŠ è½½æ­£å¸¸
4. æµ‹è¯•æ–‡ä»¶ä¸Šä¼ å’Œåˆ†æåŠŸèƒ½

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šæ¨¡å—åŠ è½½å¤±è´¥

**ç—‡çŠ¶**ï¼šæ§åˆ¶å°æ˜¾ç¤º "æ¨¡å—åŠ è½½å¤±è´¥" é”™è¯¯

**æ’æŸ¥æ­¥éª¤**ï¼š
1. æ£€æŸ¥ `dist/main.js` æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„ç½‘ç»œè¯·æ±‚ï¼Œç¡®è®¤æ–‡ä»¶è·¯å¾„
3. éªŒè¯ GitHub Pages è®¾ç½®ä¸­çš„æºç›®å½•æ˜¯å¦ä¸º `dist`

### é—®é¢˜2ï¼šWASM æ–‡ä»¶ 404

**ç—‡çŠ¶**ï¼šæ§åˆ¶å°æ˜¾ç¤º `sql-wasm.wasm` 404 é”™è¯¯

**æ’æŸ¥æ­¥éª¤**ï¼š
1. ç¡®è®¤ `dist` ç›®å½•ä¸­åŒ…å« `sql-wasm.wasm` æ–‡ä»¶
2. ç¡®è®¤é¡¹ç›®æ ¹ç›®å½•å­˜åœ¨ `.nojekyll` æ–‡ä»¶ï¼ˆé˜²æ­¢ Jekyll å¤„ç†ï¼‰
3. æ£€æŸ¥ `src/CursorParser.js` ä¸­çš„è·¯å¾„æ£€æµ‹é€»è¾‘

### é—®é¢˜3ï¼šAPI è¯·æ±‚å¤±è´¥

**ç—‡çŠ¶**ï¼šç»Ÿè®¡æ•°æ®ä¸æ›´æ–°

**æ’æŸ¥æ­¥éª¤**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¯·æ±‚æ˜¯å¦è¢« CORS é˜»æ­¢
2. éªŒè¯ API ç«¯ç‚¹æ˜¯å¦å¯è®¿é—®
3. æ£€æŸ¥ `localStorage` ä¸­æ˜¯å¦æœ‰ç¼“å­˜å€¼

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `vite.config.js` - Vite æ„å»ºé…ç½®
- `index.html` - ä¸» HTML æ–‡ä»¶ï¼ŒåŒ…å«æ¨¡å—åŠ è½½é€»è¾‘
- `main.js` - ä¸»é€»è¾‘æ–‡ä»¶ï¼ŒåŒ…å«æ‰€æœ‰å¯¼å‡ºå‡½æ•°
- `src/CursorParser.js` - æ•°æ®åº“è§£æå™¨ï¼ŒåŒ…å« WASM åŠ è½½é€»è¾‘

## âœ¨ åç»­ä¼˜åŒ–å»ºè®®

1. **æ·»åŠ éƒ¨ç½²è„šæœ¬**ï¼šè‡ªåŠ¨åŒ–æ„å»ºå’Œéƒ¨ç½²æµç¨‹
2. **æ·»åŠ é”™è¯¯ç›‘æ§**ï¼šé›†æˆ Sentry ç­‰é”™è¯¯ç›‘æ§æœåŠ¡
3. **ä¼˜åŒ–åŠ è½½æ€§èƒ½**ï¼šæ·»åŠ èµ„æºé¢„åŠ è½½å’Œä»£ç åˆ†å‰²ä¼˜åŒ–
4. **æ·»åŠ  PWA æ”¯æŒ**ï¼šæ”¯æŒç¦»çº¿è®¿é—®å’Œå®‰è£…

---

**ä¿®å¤å®Œæˆæ—¶é—´**ï¼š2026-01-15
**ä¿®å¤ç‰ˆæœ¬**ï¼šv2.0
